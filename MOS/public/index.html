<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    
    <script src="http://localhost:3000/socket.io/socket.io.js"></script>    
    <script src="js/events-sender.js"></script>
    <script>
        var socket = io.connect('http://localhost:3000');
        
        console.log('Connected');
        
        /* Robot distance control example */
        angVel(socket, 25);
        time(socket, 90);
        angle(socket, 11);
        rcMode(socket, true);
        mode(socket, true);
        leds(socket, false);
        reset(socket);
        forward(socket);
        left(socket);
        stop(socket);
        right(socket);
        backward(socket);
        pan(socket, 86);
        period(socket, 33);
                
        /* Video streaming */
        socket.on('setStream', function(stream) {
            
            /* ArrayBuffer */
            var buffer = stream.raw;  
                
            //var int8View = new Int8Array(buffer);  
            
            var int8View = new Int8Array(buffer);            
            console.log(int8View[9]);
                                                                    
            /*var video = document.getElementById("video1");
            video.onload = function(e) {
                window.URL.revokeObjectURL(video.src);
            };
            
            var blob = new Blob([int8View], { type: "" });
       
            video.src = window.URL.createObjectURL(blob);
            document.body.appendChild(video);*/
        });
    </script>        
    
    <h1>Hello from the web</h1>
    <video id="video1" controls="controls"></video>
</body>
</html>
